mixin join(a,s)
  !=a.join(s||`\n`)

mixin repeat(a,b)
  - b = b||0;
  - let diff = Math.abs(a-b)+(b?1:0);
  - let n = 0;
  while n < diff
    block
    - n++;

mixin htmlColor
  style.
    html { background-color: #ddd; color: #666; } /* light theme - (default) */
    @media (prefers-color-scheme: dark) { html { background-color: #222; color: #999; } } /* dark theme */

mixin css(href,media)
  link(rel="stylesheet" media=media||'all' href=href)&attributes(attributes)/

mixin cssv(href,media)
  link(rel="stylesheet" media=media||'all' href!=appendVersion(href))&attributes(attributes)/

mixin js(src)
  script(type="text/javascript" src=src)&attributes(attributes): block

mixin jsv(src)
  script(type="text/javascript" src!=appendVersion(src))&attributes(attributes): block

mixin view
  ._view&attributes(attributes): ._view_layout: block

mixin main
  main&attributes(attributes): ._main_layout: block

mixin header
  header&attributes(attributes): ._header_layout: block

mixin footer
  footer&attributes(attributes): ._footer_layout: block

mixin nav
  nav&attributes(attributes): ._nav_layout: block

mixin pre
  aside&attributes(attributes): ._pre_layout: pre._pre: block

mixin aside
  aside&attributes(attributes): ._aside_layout: block

mixin widgets
  aside&attributes(attributes): block

mixin widget
  aside&attributes(attributes): ._widget_layout: block

mixin heading
  h1._h1&attributes(attributes): block

mixin _
  =` `

mixin nbsp
  !=`&nbsp;`

mixin middots
  !=`&middot;&middot;&middot;`

mixin l
  !=`\n`

mixin l_
  !=`\n&nbsp;`

mixin a(href,title)
  a(href=href title=title)&attributes(attributes): block

mixin _a(href,title)
  +_
  a(href=href title=title)&attributes(attributes): block

mixin lia(href,title)
  li: a(href=href title=title)&attributes(attributes): block

mixin backlink(title='Back to previous page')
  a(onclick=js.goBack title=title)&attributes(attributes): block

mixin changeThemeLink(title='Change Theme (Ctrl+Alt+T)')
  a(onclick=js.themeChange title=title)&attributes(attributes): block

mixin img(src,alt,title)
  img(src=src alt=alt title=title)&attributes(attributes)/

mixin svgi(d,viewBox,opacity,fill)
  svg(viewBox=viewBox||"0 0 24 24")&attributes(attributes): path(d=d fill=fill||'currentColor' fill-opacity=opacity||'1')

mixin isvg(d)
  i._isvg&attributes(attributes): +svgi(d)

mixin fas
  i._fa: i.fas&attributes(attributes)

mixin far
  i._fa: i.far&attributes(attributes)

mixin fab
  i._fa: i.fab&attributes(attributes)

mixin fat
  i._fa: i.fas&attributes(attributes): block

mixin itext
  i._itext: i.itext&attributes(attributes): block

mixin backButton(href, label)
  +a(href).nav_button._btnlink&attributes(attributes) #[+itext|←] #[span._btnlabel._btnpad !{label}]

mixin nextButton(href, label)
  +a(href).nav_button._btnlink&attributes(attributes) #[span._btnlabel._btnpad !{label}] #[+itext|→]

mixin pageData
  aside&attributes(attributes)
    p: +backlink._btnlink._smaller Back
    hr
    +pre
      span._h7 !{description}
      +l
      +putData
    hr

mixin needjs
  style#_need_js.
    ._need_js { display: none !important; }
  script.
      document.getElementById('_need_js').innerHTML='';

mixin include_php(uri)
  !=`<?php include "${uri}" ?>`

mixin php
  !=`<?php `
  block
  !=` ?>`

//- try this filter
//- see : https://pugjs.org/language/filters.html

//- mixin include_php(file)
  include:php #{file}

//- mixin php(file)
  :php
    include #{file}